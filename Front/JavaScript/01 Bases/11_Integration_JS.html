<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>11 Intégrer du Javascript dans une page web</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="assets/css/font-awesome.min.css" />
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/github-markdown.css" />
    <script src="assets/js/jquery-3.4.1.min.js"></script>
    <script src="assets/js/popper.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="assets/css/stackoverflow-dark.min.css" />
    <script src="assets/js/highlight.min.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="markdown-body">
        <h1 id="1">11 Intégrer du Javascript dans une page web</h1>
        <p>
          Il existe plusieurs méthodes pour intégrer du JavaScript à une page
          web.
        </p>
        <blockquote>
          <p>
            Notez que ces méthodes sont proches de celles vues pour les feuilles
            de styles CSS.
          </p>
        </blockquote>
        <h2 id="4">Intégration directe dans une balise HTML</h2>
        <p>
          L'exécution de code Javascript peut se faire directement dans une
          balise HTML via une instruction nommée <em>événement</em> :
          <code>onClick</code>, <code>onMouseOver</code> etc. (nous reviendrons
          de façon détaillée sur les évènements).
        </p>
        <p>Cette méthode est désormais <strong>non recommandée</strong>.</p>
        <p>Exemple :</p>
        <pre><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Titre du fichier<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"page.html"</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Voir la page"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"alert("</span><span class="hljs-attr">Lien</span> <span class="hljs-attr">cliqué</span> !");"&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre>
        <h2 id="9">Intégration via une balise <code>&lt;script&gt;</code></h2>
        <p>
          L'intégration de code Javascript peut également être placé n'importe
          où dans la page web via une balise <code>&lt;script&gt;</code> :
        </p>
        <pre><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Titre du fichier<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"page.html"</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Voir la page"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"><span class="hljs-title function_">alert</span>(<span class="hljs-string">"Hello l’AFPA !"</span>);<span class="hljs-string">"</span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre>
        <p>Cette méthode est elle aussi <strong>non recommandée</strong>.</p>
        <h2 id="13">Intégration via un fichier externe</h2>
        <p>
          On peut définir les scripts dans un fichier séparé portant l'extension
          <code>.js</code> qu'il faudra appeler dans les fichiers HTML
          souhaités. Toute mise à jour du fichier <code>.js</code> ira se
          répercuter sur toutes les pages HTML utilisant ce script.
        </p>
        <p>
          <strong
            >Il s'agit de la bonne pratique recommandée aujourd'hui
            <a href="https://fr.wikipedia.org/wiki/Javascript_discret"
              >sur le web</a
            >.</strong
          >
        </p>
        <blockquote>
          <p>
            En outre, cette métode permet d'avoir des scripts communs à toutes
            les pages (au lieu de répéter un même code sur chaque page).
          </p>
        </blockquote>
        <p>
          Les appels se font en fin de page, avant la fermeture de la balise
          <code>&lt;/body&gt;</code>.
        </p>
        <p>
          L'appel du fichier <code>.js</code> s'effectue à l’aide de la balise
          <code>&lt;script&gt;</code> et de l'attribut <code>src</code> :
        </p>
        <pre><code class="hljs language-xml">````
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Titre du fichier<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"page.html"</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Voir la page"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"monscript.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre>
        <p>
          L'attribut <code>src</code> doit contenir le chemin complet vers le
          fichier (exemple : <code>assets/js/monscript.js</code>) ou une URL
          (<code>https://code.jquery.com/jquery-3.3.1.js</code>).
        </p>
        <h2 id="21">Exercices</h2>
        <p>
          Le but est d'externaliser le code JavaScript dans un fichier
          <code>.js</code> puis de tester l'intégration de code HTML dans les
          fonctions Javascript.
        </p>
        <ol>
          <li>
            <p>Copier le code suivant dans votre éditeur de texte préféré.</p>
            <pre><code class="hljs language-xml">````
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Mon 1er script<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">
   <span class="hljs-title function_">alert</span>(<span class="hljs-string">"Coucou !"</span>);
   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Ah que Coucou !"</span>);
   <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">write</span>(<span class="hljs-string">"Coucou beuh !"</span>);
   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
   <span class="hljs-comment">&lt;!-- Ajouter le code Javascript ici pour le titre --&gt;</span>   
   <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Rien à ajouter<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>  
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
````</code></pre>
          </li>
        </ol>
        <p>
          Enregistrer le fichier puis l'ouvrir avec votre navigateur. Observez
          ce qu'il se passe, y compris dans la console.
        </p>
        <ol start="2">
          <li>Créer un fichier JavaScript nommé <em>exercice1.js</em>.</li>
          <li>
            Déplacer le code JavaScript du fichier HTML dans le fichier externe
            JavaScript et importer ce fichier dans le fichier HTML.
          </li>
          <li>
            Répéter le titre de la page dans <code>&lt;body&gt;</code> avec
            l'instruction <code>document.write()</code>. Consultez la
            documentation sur le site
            <a href="https://www.w3schools.com/jsref/met_doc_write.asp"
              >W3Schools</a
            >. Ajouter du code HTML dans la chaîne de caractères passée en
            paramètre.
          </li>
          <li>
            Modifier la fonction <code>alert()</code> pour y passer en paramètre
            également du code HTML. Que remarquez-vous ?
          </li>
        </ol>
      </div>
    </div>
    <script>
      hljs.highlightAll();
    </script>
    <script>
      document.title = "" + document.querySelector("h1").textContent;
    </script>
  </body>
</html>
